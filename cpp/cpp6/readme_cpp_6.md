# Расширенная реализация телефонного справочника с операторами

Данная программа реализует телефонный справочник с использованием объектно-ориентированных принципов. В программе используются базовые и наследуемые классы, а также реализованы дополнительные операторы для удобства работы с внутренним массивом объектов.

---

## Описание классов

### 1. Базовый класс `Person`

- **Назначение:** Абстрактный базовый класс, определяющий интерфейс для всех объектов, которые могут храниться в справочнике или внутреннем массиве.
- **Данные:**
  - `static int countObjects` — статический счетчик всех созданных объектов этого класса и наследников.
- **Методы:**
  - `Person()` — конструктор, увеличивающий счетчик при создании объекта.
  - `virtual ~Person()` — виртуальный деструктор, уменьшающий счетчик при уничтожении объекта.
  - `static int getCountObjects()` — статический метод для получения текущего количества созданных объектов.
  - `virtual void print() const = 0;` — чисто виртуальный метод для вывода информации об объекте.

### 2. Класс `Kontakt`

- **Назначение:** Представляет контакт с информацией о человеке (имя, телефон).
- **Наследует:** `Person`
- **Данные:**
  - `string name` — имя контакта.
  - `string phone` — номер телефона.
- **Методы:**
  - Конструкторы (по умолчанию и с параметрами).
  - `void print() const override` — выводит информацию о контакте.

### 3. Класс `Employee`

- **Назначение:** Представляет сотрудника организации.
- **Наследует:** `Person`
- **Данные:**
  - `string name` — имя сотрудника.
  - `double salary` — зарплата.
- **Методы:**
  - Конструкторы.
  - `void print() const override` — выводит информацию о сотруднике.

### 4. Класс `Customer`

- **Назначение:** Представляет клиента организации.
- **Наследует:** `Person`
- **Данные:**
  - `string name` — имя клиента.
  - `int orderNumber` — номер заказа или идентификатор клиента.
- **Методы:**
  - Конструкторы.
  - `void print() const override` — выводит информацию о клиенте.

### 5. Класс `MainClass`

- **Назначение:** Основной класс, содержащий внутренний динамический массив указателей на объекты типа `Person`.
- **Данные:**
  - `vector<Person*> persons` — контейнер для хранения указателей на объекты-наследники `Person`.
  - `static int countInArray` — статический счетчик добавленных объектов в массив.
- **Методы:**
  - Конструктор и деструктор (освобождающие память).
  - Оператор `+` для добавления объекта в массив (по указателю).
  - Операторы префиксного (`++mc`) и постфиксного (`mc++`) инкремента для добавления объекта по умолчанию (например, Kontakt).
  - Оператор индексирования `[ ]` для доступа к элементам массива по индексу с проверкой границ.
  - Метод `displayAll()` для вывода содержимого массива.
  - Статический метод `getCountInArray()` для получения количества элементов в массиве.

### 6. Глобальный оператор

- **`operator<<`**: Выводит содержимое массива объектов класса `MainClass`, вызывая у каждого объекта метод `print()`.

---

## Итог

Эта структура позволяет:

- Создавать объекты различных типов (`Kontakt`, `Employee`, `Customer`) через базовый интерфейс (`Person`) с полиморфизмом.
- Подсчитывать общее число созданных объектов через статический счетчик в базовом классе (`Person::countObjects`).
- Подсчитывать количество объектов, помещенных во внутренний массив класса (`MainClass::countInArray`).
- Использовать операторы для удобства добавления элементов и доступа к ним:
    - оператор `+` для добавления произвольных объектов;
    - операторы префиксного и постфиксного инкремента (`++`) для добавления объектов по умолчанию;
    - оператор `[ ]` для доступа к элементам по индексу;
    - оператор вывода (`<<`) для отображения содержимого всего массива.

---

## Использование

В основном файле программы создаются объекты-наследники, добавляются в контейнер через операторы, вызываются методы вывода и доступа к элементам. Это демонстрирует гибкость и удобство работы с коллекцией объектов.

